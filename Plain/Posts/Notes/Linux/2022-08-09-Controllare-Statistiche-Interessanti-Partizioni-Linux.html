<!DOCTYPE html>
<html lang="it"><head>
<style> body { color: #000000; background-color: #FFFFFF; } @media (prefers-color-scheme: dark) { body { color: #FFFFFF; background-color: #000000; } } img { max-width: 100%; max-height: 100vh; } </style><meta charset="utf-8"/><meta content="width=device-width, initial-scale=1.0" name="viewport"/><link href="../../../Assets/Global.css" rel="stylesheet"/><link href="../../../feed/atom.xml" rel="alternate" title="Feed Atom" type="application/atom+xml"/><link href="../../../feed/rss.xml" rel="alternate" title="Feed RSS" type="application/rss+xml"/><title>Controllare statistiche interessanti e sulla salute di partizioni su Linux - ‚ú®sitoctt‚ú®</title><meta content="Le memorie di archiviazione, di qualunque categoria siano, con l'usura si degradano. Niente si pu√≤ fare per evitare di doverle cambiare, prima o poi, ..." name="description"/><link href="../../../favicon.png" rel="icon" type="image/png"/><meta content="website" property="og:type"/><meta content=" Controllare statistiche interessanti e sulla salute di partizioni su Linux - ‚ú®sitoctt‚ú®" property="og:title"/><meta content="Le memorie di archiviazione, di qualunque categoria siano, con l'usura si degradano. Niente si pu√≤ fare per evitare di doverle cambiare, prima o poi, ..." property="og:description"/><meta content="" property="og:image"/><meta content="https://sitoctt.octt.eu.org/Posts/Notes/Linux/2022-08-09-Controllare-Statistiche-Interessanti-Partizioni-Linux.html" property="og:url"/><link href="https://sitoctt.octt.eu.org/Posts/Notes/Linux/2022-08-09-Controllare-Statistiche-Interessanti-Partizioni-Linux.html" rel="canonical"/><!--
I still haven't yet prepared this lol
<script src="../../../Assets/AVIF-Polyfill/index.js" defer></script>
---><link href="../../../Assets/sitoctt.css" rel="stylesheet"/><link href="http://http.sitoctt-assets.octt.eu.org/public/Fonts/SpaceMono/Style.css" rel="stylesheet"/><!--style>
</style---><link href="https://octtspacc.gitlab.io/twemoji-astonishing/twemoji-astonishing.min.css" rel="stylesheet"/></head><body id="Body"><div id="Header"></div><div id="Container"><div id="TopBox"><div id="TopBoxLeft"><h3><a href="../../../index.html"><strong class="twa twa-sparkles"><span>‚ú®</span></strong><strong class="MainIdTextGradientL">sitoctt</strong><strong class="twa twa-sparkles"><span>‚ú®</span></strong></a></h3></div><div id="TopBoxRight"><a class="NoABigger Pixelated" href="../../../index.html#-Feed-e-notifiche"><img alt="Feed" src="http://http.sitoctt-assets.octt.eu.org/public/Media/Buttons/Feed-88x31.png" title="Feed"/></a><span> </span><a class="NoABigger" href="../../../index.html#-Sorgenti-e-licenze"><img alt="CC BY-SA" height="31" src="http://http.sitoctt-assets.octt.eu.org/public/Media/Buttons/CC-BY-SA.svg" title="CC BY-SA" width="88"/></a></div></div><div id="MiddleBox"><div id="LeftBoxContainer"><details><summary><big><b>[<span class="twa twa-books"><span>üìö</span></span>]</b></big></summary><div id="LeftBox"><ul><li><a href="../../../index.html"><span class="twa twa-house twa-üè†">üè†</span> ~Home~</a></li><li><a href="../../../Chi-Sono.html"><span class="twa twa-grinning-cat"><span>üò∫</span></span> Chi sono</a></li><li><a href="../../../Devlogs.html"><span class="twa twa-floppy-disk twa-üíæ">üíæ</span> Devlogs - blogoctt</a></li><li><a href="../../../PicoBlog.html"><span class="twa twa-envelope twa-‚úâÔ∏è"><span>‚úâÔ∏è</span></span> PicoBlog - blogoctt</a></li><li><a href="https://hub.octt.eu.org">üíé OctoSpacc Hub</a></li><li><a href="https://kb.octt.eu.org" rel="noopener" target="_blank">üì¶ OcttKB</a></li><li><del><a href="https://octtspacc.gitlab.io/bachecoctt" rel="noopener" target="_blank">üîñÔ∏è Bacheca (Old)</a></del></li><li><a href="../../../Donazioni.html"><span class="twa twa-money-bag"><span>üí∞</span></span> Donazioni</a></li><li><span class="twa twa-card-index-dividers"><span>üóÇÔ∏è</span></span> Raccolte <ul><li><a href="../../../Categories/Blog.html"><span class="twa twa-notebook twa-üììÔ∏è"><span>üììÔ∏è</span></span> Blog</a></li><li><a href="../../../Categories/MicroBlog.html"><span class="twa twa-ledger twa-üìí"><span>üìí</span></span> MicroBlog - blogoctt</a></li><li><a href="../../../Categories/Fritto-Misto.html"><span class="twa twa-unicorn"><span>ü¶Ñ</span></span> Fritto Misto</a></li><li><a href="../../../Categories/DIY.html"><span class="twa twa-hammer-and-wrench"><span>üõ†Ô∏è</span></span> DIY</a></li><li><a href="../../../Categories/Ecologia.html"><span class="twa twa-recycling-symbol"><span>‚ôªÔ∏è</span></span> Ecologia</a></li><li><a href="../../../Categories/Gaming.html"><span class="twa twa-joystick"><span>üïπÔ∏è</span></span> Gaming</a></li><li><a href="../../../Categories/Internet.html"><span class="twa twa-globe-with-meridians"><span>üåêÔ∏è</span></span> Internet</a></li><li><a href="../../../Categories/Mobile.html"><span class="twa twa-mobile-phone"><span>üì±Ô∏è</span></span> Mobile</a></li><li><a href="../../../Categories/Note.html"><span class="twa twa-memo"><span>üìùÔ∏è</span></span> Note</a></li><li><a href="../../../Categories/Rasperino.html"><span class="twa twa-money-bag"><span>üí∞</span></span> Rasperino</a></li><li><a href="../../../Categories/Tecnologia.html"><span class="twa twa-satellite-antenna"><span>üì°</span></span> Tecnologia</a></li></ul></li></ul><hr/><div class="Pixelated NoABigger" id="LeftBoxBottom"><a href="https://mastodon.uno/@octo" rel="noopener" target="_blank"><img src="http://http.sitoctt-assets.octt.eu.org/public/Media/Buttons/Follow-me-on-Mastodon-88x31.png" title="Follow me on Mastodon"/></a><span> </span><a href="https://www.gnu.org/home.it" rel="noopener nofollow" target="_blank"><img src="http://http.sitoctt-assets.octt.eu.org/public/Media/Buttons/Made-on-GNU-Linux-88x31.png" title="Made on GNU/Linux"/></a><br/><a href="https://www.mozilla.org/it/firefox" rel="noopener nofollow" target="_blank"><img src="http://http.sitoctt-assets.octt.eu.org/public/Media/Buttons/Firefox/Firefox-Modern-88x31.png" title="Firefox"/></a><span></span> <a href="https://www.torproject.org/it" rel="noopener nofollow" target="_blank"><img src="http://http.sitoctt-assets.octt.eu.org/public/Media/Buttons/Tor-88x31.png" title="Tor"/></a><br/><a href="https://archive.org" rel="noopener nofollow" target="_blank"><img src="http://http.sitoctt-assets.octt.eu.org/public/Media/Buttons/Sites/InternetArchive-88x31.png" title="Internet Archive"/></a><span> </span><!-- Wikipedia | https://commons.wikimedia.org/wiki/File:Wikipedia-microbar-hu.png ---><span><a href="https://www.wikipedia.org" rel="noopener nofollow" target="_blank" title="hu:User:Boro, CC BY-SA 3.0 &lt;https://creativecommons.org/licenses/by-sa/3.0&gt;, via Wikimedia Commons"><img src="http://http.sitoctt-assets.octt.eu.org/public/Media/Buttons/Sites/Wikipedia/Wikipedia-88x31.png" title="Wikipedia"/></a><a href="https://commons.wikimedia.org/wiki/File:Wikipedia-microbar-hu.png" rel="noopener nofollow" style="Font-Size:Small; Margin-Left:-2em; Color:Black; Vertical-Align:Super;" target="_blank" title="hu:User:Boro, CC BY-SA 3.0 &lt;https://creativecommons.org/licenses/by-sa/3.0&gt;, via Wikimedia Commons">[s]</a></span></div></div></details></div><div id="RightBoxContainer"><details><summary><big><b>[<span class="twa twa-bookmark-tabs"><span>üìë</span></span>]</b></big></summary><div id="RightBox"><ul><li><a href="#-Controllare-statistiche-interess"> Controllare statistiche interessanti e sulla salute di partizioni su Linux</a></li><li><ul><li><a href="#-Linux-va-oltre"> Linux va oltre</a></li></ul></li><li><ul><li><a href="#-Ottenere-i-dati"> Ottenere i dati</a></li></ul></li><li><ul><li><a href="#-Cose-da-osservare"> Cose da osservare</a></li></ul></li><li><ul><li><a href="#-Quando-serve-controllare-la-salu"> Quando serve controllare la salute cos√¨?</a></li></ul></li><li><ul><li><a href="#-Tenere-docchio-le-microSD"> Tenere d'occhio le microSD?</a></li></ul></li></ul></div></details></div><div id="MainBox"><div id="MainBoxTop"><p><span class="staticoso-ContentHeader-CreatedOn"><span class="staticoso-Label">Creato in data</span>: <span class="staticoso-Value">2022-08-09</span></span><br/><span class="staticoso-ContentHeader-Categories"><span class="staticoso-Label">Categorie</span>:<span class="staticoso-Value"> <a href="../../../Categories/Note.html">Note</a></span></span><br/></p></div><h1 class="SectionHeading staticoso-SectionHeading"><span class="SectionLink staticoso-SectionLink"><a href="#-Controllare-statistiche-interess"><span>¬ª</span></a> </span><span class="SectionTitle staticoso-SectionTitle" id="-Controllare-statistiche-interess">Controllare statistiche interessanti e sulla salute di partizioni su Linux</span></h1><p>Le memorie di archiviazione, di qualunque categoria siano, con l'usura si degradano.<br/> Niente si pu√≤ fare per evitare di doverle cambiare, prima o poi, dopo tanti anni. √à per√≤ possibile tenere d'occhio il loro stato di salute, per poter identificare eventuali problemi.</p><p>Quando si parla di dischi HDD o SSD, il protocollo <a _:mdtgtblank:_="" href="https://en.m.wikipedia.org/wiki/S.M.A.R.T." rel="noopener" target="_blank">SMART</a> corre in aiuto ma, se, come me, si usano i computer in maniera poco convenzionale, allora il controllare dischi classici non basta.</p><h2 class="SectionHeading staticoso-SectionHeading"><span class="SectionLink staticoso-SectionLink"><a href="#-Linux-va-oltre"><span>¬ª</span></a> </span><span class="SectionTitle staticoso-SectionTitle" id="-Linux-va-oltre">Linux va oltre</span></h2><p>Un qualcosa di abbastanza segreto, che non molti sanno (cos√¨ mi √® parso, almeno), √® che su Linux √® possibile accedere alle statistiche di partizioni con alcuni filesystem.<br/> Ci√≤, ovviamente, in modo indipendente da se si stia usando una pennetta, una scheda SD, un disco rigido, un floppy disk, o anche una memoria ancora meno usuale.</p><p><a _:mdtgtblank:_="" href="https://en.m.wikipedia.org/wiki/Ext4" rel="noopener" target="_blank">Ext4</a> fornisce diversi dati curiosi - e lo stesso dovrebbero fare anche le sue versioni precedenti, Ext3 ed Ext2, ma non ho controllato.<br/> Anche <a _:mdtgtblank:_="" href="https://en.m.wikipedia.org/wiki/F2FS" rel="noopener" target="_blank">F2FS</a> ho visto, direttamente dal mio smartphone Android, espone delle informazioni interessanti.. che non affronter√≤ in dettaglio, perch√© sono tutte molto oscure e non so cosa significhino; e se non so cosa significano, non sono per me curiose. Capita.<br/> Per quanto riguarda altri file system, non ho visto proprio. Come compito per casa, quindi, vi do quello di vedere se roba come FAT32, exFAT, NTFS, o perch√© no, BTRFS, espone informazioni belline, su Linux. E come?</p><h2 class="SectionHeading staticoso-SectionHeading"><span class="SectionLink staticoso-SectionLink"><a href="#-Ottenere-i-dati"><span>¬ª</span></a> </span><span class="SectionTitle staticoso-SectionTitle" id="-Ottenere-i-dati">Ottenere i dati</span></h2><p>Su Linux, basta navigare nei percorsi <code>/sys/fs/&lt;filesystem&gt;/&lt;device&gt;</code> per trovare qualche file interessante.<br/> Si pu√≤ stampare a schermo il contenuto di ciascuno, affiancato al suo nome, con un semplice comando (eseguito nel relativo percorso): <code>for i in *; do echo "$i: $(cat $i)"; done</code>. A meno di avere SELinux attivo - in genere, di default lo √® solo sui dispositivi Android, non sui sistemi desktop - non servono nemmeno i permessi di root.<br/> Metto qui sotto in tabella i pi√π interessanti, riguardanti la microSD del mio server (una povera Nintendo Switch che fa girare Ubuntu senza sosta), ci torneremo tra poco.</p><table><thead><tr><th>Nome</th><th>Valore</th></tr></thead><tbody><tr><td>errors_count</td><td>0</td></tr><tr><td>first_error_time</td><td>0</td></tr><tr><td>last_error_time</td><td>0</td></tr><tr><td>lifetime_write_kbytes</td><td>1959125105</td></tr><tr><td>session_write_kbytes</td><td>1423172308</td></tr></tbody></table><p>Parlando nello specifico dei file system Ext: per conoscere persino qualche dettaglio in pi√π, e affiancato da un nome comprensibile, ci sarebbe anche il comando <code>tune2fs -l /dev/&lt;device&gt;</code>. Questo richiede per√≤ i permessi di root e, mentre riporta anche alcuni dei dati che si possono ottenere sbirciando i file di prima, come il numero di lifetime_write, questi possono essere non aggiornati, e relativi solo all'ultimo montaggio della partizione. Quindi, meglio prestare attenzione a questi.<br/> Anche stavolta, riporto le cose interessanti.</p><table><thead><tr><th>Nome</th><th>Valore</th></tr></thead><tbody><tr><td>Filesystem created</td><td>Mon Jul 26 04:33:17 2021</td></tr><tr><td>Last mount time</td><td>Fri Apr 15 11:55:30 2022</td></tr><tr><td>Mount count</td><td>16</td></tr></tbody></table><h2 class="SectionHeading staticoso-SectionHeading"><span class="SectionLink staticoso-SectionLink"><a href="#-Cose-da-osservare"><span>¬ª</span></a> </span><span class="SectionTitle staticoso-SectionTitle" id="-Cose-da-osservare">Cose da osservare</span></h2><p>Vediamo, uno per uno, l'utilit√† di questi valori.<br/> Bisogna tenere in conto, per√≤, nel caso non si fosse capito, che i valori parlano dello stato <strong>della partizione, non del media</strong> di archiviazione. Possiamo leggerli solo perch√© Ext4 li salva e, di conseguenza, se la partizione viene formattata, allora anche questi valori si resettano. Inoltre, consideriamo che potrebbero tranquillamente essere alterati da chiunque con programmi semplici come tune2fs, quindi non sono dati da prendere come perfettamente buoni se persone non fidate hanno accesso alla memoria.</p><dl><dt>‚Ä¢ <strong>Filesystem created</strong>:</dt><dd>La data di creazione della partizione. Semplice, ma pu√≤ tornare utile per fare stime sulla salute, assieme ai prossimi dati.</dd><dt>‚Ä¢ <strong>Mount count</strong>:</dt><dd>Il numero di volte in cui la partizione √® stata montata. Questo pu√≤ essere interessante, se parliamo di una memoria che non √® usata in modo permanente su una macchina sempre accesa. Se non esistesse SMART, che d√† questo e anche pi√π dati, questo valore sarebbe molto utile sugli HDD.</dd><dt>‚Ä¢ <strong>Last mount time</strong>:</dt><dd>La data dell'ultimo montaggio della partizione. Ci pu√≤ servire in combinazione con altri dati, e basta, credo.</dd><dt>‚Ä¢ <strong>session_write_kbytes</strong>:</dt><dd>La quantit√†, in KB, di dati scritti durante la sessione corrente, ossia dal momento dell'ultimo montaggio. Assieme al valore descritto appena sopra, possiamo usare questo per sapere quanto abbiamo scritto in un periodo di tempo attivo (il corrente).</dd><dt>‚Ä¢ <strong>lifetime_write_kbytes</strong>:</dt><dd>La quantit√†, in KB, di dati scritti da quando la partizione √® stata creata. Questa informazione √® particolarmente utile sulle microSD, almeno se se ne fa un uso intensivo come me. C'√® anche su F2FS.</dd><dt>‚Ä¢ <strong>errors_count</strong>:</dt><dd>Il numero di errori, credo sia di lettura che di scrittura, avvenuti nel tempo. Errori frequenti possono essere sintomo di una memoria inaffidabile o semplicemente degradata.</dd><dt>‚Ä¢ <strong>first_error_time</strong> e <strong>last_error_time</strong>:</dt><dd>Date, rispettivamente della prima e dell'ultima volta in cui un errore √® stato registrato. Pu√≤ essere utile a capire se eventuali errori capitano di continuo, e quindi bisogna investigare oltre; oppure, se un errore √® capitato una volta e poi mai pi√π dopo molto tempo, e quindi si sta bene cos√¨.</dd></dl><h2 class="SectionHeading staticoso-SectionHeading"><span class="SectionLink staticoso-SectionLink"><a href="#-Quando-serve-controllare-la-salu"><span>¬ª</span></a> </span><span class="SectionTitle staticoso-SectionTitle" id="-Quando-serve-controllare-la-salu">Quando serve controllare la salute cos√¨?</span></h2><p>Bene, OK, queste informazioni sono interessanti, ma: quando servono effettivamente?</p><p>Se la memoria di archiviazione in uso - che, se abbiamo deciso di ricorrere a queste misure anzich√© usare SMART, √® probabilmente una microSD o una chiavetta - inizia a dare segni di cedimento, magari rallentandosi nel tempo, oppure corrompendo dati.. Sarebbe opportuno almeno controllare che sia tutto a posto.</p><p>Se poi i dati non fanno paura, ma sembrano in regola.. allora √® il caso prima di fare una formattazione completa (incluso il ricreare la tabella delle partizioni da zero), cosa resa semplice da programmi come <a _:mdtgtblank:_="" href="https://gparted.org" rel="noopener" target="_blank">GParted</a>, e poi si vede come continua la storia.</p><p>In ogni caso, giusto per scrupolo, sarebbe bene fare sempre controlli di routine, cos√¨ da poter prevedere problemi prima che accada qualcosa di grave.</p><h2 class="SectionHeading staticoso-SectionHeading"><span class="SectionLink staticoso-SectionLink"><a href="#-Tenere-docchio-le-microSD"><span>¬ª</span></a> </span><span class="SectionTitle staticoso-SectionTitle" id="-Tenere-docchio-le-microSD">Tenere d'occhio le microSD?</span></h2><p>Parlando di schede microSD: sono quasi usa e getta, hanno una vita estremamente limitata, visto che i loro chip di memoria sono gli scarti degli scarti della fabbricazione di altre memorie, di gamma pi√π alta, come gli SSD.</p><p>Sulla loro effettiva durata, almeno di quelle uscite bene dalla fabbrica e non di sottomarche, cosa si sa?<br/> Se ne leggono di tutti i colori online: chi dice che ogni singola cella di memoria resiste 10000 riscritture, chi dice che puoi al massimo scrivere 1000 volte la capacit√† della memoria prima che questa fallisca completamente (andando in modalit√† di sola lettura)... non si arriva ad alcuna conclusione.</p><p>Ho avuto schede come quella esaminata oggi, della capacit√† di 32 GB, che, a parte i quasi 2 TB scritti dall'ultima formattazione, secondo me minimo 3 TB totali in tutta la sua vita li ha visti, eppure sembra ancora a posto; e poi, ho avuto schede che hanno iniziato a dare problemi per molto meno. Sar√† che quest'ultime le ho usate con file system schifosi per√≤, come FAT32 o exFAT, e per questo si corrompevano in continuazione.</p><p>In conclusione: se abusiamo di schedine, √® bene riuscire a controllarle, nei limiti del possibile, nel modo in cui abbiamo imparato oggi.</p><div id="MainBoxBottom"><staticoso:comments><br/><hr/><br/><div id="StatCounter"><h4>Contatore assoluto delle visite</h4><a class="NoABigger" href="https://www.contatoreaccessi.com" rel="noopener" target="_blank" title="Contatore assoluto delle visite"><img alt="Conto assoluto delle visite" border="0" src="https://counter4.whocame.ovh/private/contatoreaccessi.php?c=3pfp8ahxbnm9e53pqtcnuxz8mq7wrk9s" title="Conto assoluto delle visite"/></a><!-- <a href="https://www.contatoreaccessi.com" title="contatori"><img src="https://counter9.stat.ovh/private/contatoreaccessi.php?c=3pfp8ahxbnm9e53pqtcnuxz8mq7wrk9s" border="0" title="contatori" alt="contatori"></a> --></div><br/><div class="Pixelated" id="MainBoxGlobalFooter"><hr/><br/><a class="NoABigger NoLinkLink" href="../../../Raccolte/Internet/Raccolta-Siti-Internet.html#-Il-mio"><img alt="‚ú®sitoctt‚ú®" src="http://http.sitoctt-assets.octt.eu.org/public/Media/Buttons/Sites/sitoctt-1.png" title="‚ú®sitoctt‚ú®"/></a><span> </span><img alt="Bandiera Octt" src="http://http.sitoctt-assets.octt.eu.org/public/Media/Buttons/Octt-Flag-88x31.png" title="Bandiera Octt"/><span> </span><!-- Bottone 88x31 | Fonte: https://astral.town | Licenza: Sconosciuta --><img alt="Occhi blink blink" src="http://http.sitoctt-assets.octt.eu.org/public/Media/Blink-0.gif" title="Occhi blink blink"/><br/><p><a href="../../../index.html#-Sorgenti-e-licenze">Copyright</a> (C) 2022, OctoSpacc</p><p id="BuildTimeLine">Pagina compilata in data: <span>2022-12-14 23:30</span></p></div></staticoso:comments></div></div></div><div id="BottomBoxContainer"><label for="BottomBoxCheck" id="BottomBoxLabel"><big><b>[<span class="twa twa-label"><span>üè∑Ô∏è</span></span>]</b></big></label><input id="BottomBoxCheck" type="checkbox"/><div class="ToggleBox" id="BottomBox"><h3 class="NoSelect"><a href="#Container"><strong class="twa twa-up-arrow"><span>‚¨ÜÔ∏è</span></strong><strong> Torna su</strong></a></h3></div></div><!-- <div id="PrivacyPopup"></div> --></div></body></html>