+++
Title = "🥴 Ugly interface? Files all destroyed!"
Date = 2023-03-18
Description = "To do things in a hurry, I accidentally deleted part of the PC disk. But it's not just my fault: the program I used is poorly designed."
Downsync = "/it/blog/Bad-Interface-Partition-Destroyed.html"
Aliases = [ "/Posts/2023-03-18-Bad-Interface-Partition-Destroyed.html" ]
Categories = [ "Sysadmin" ]
Lastmod = 2023-03-20
+++

{{< noticeAutomaticTranslation it >}}



<!-- Autogenerated by ListedDownsync.js. Do not edit (unless also set "% Downsync = False") - it would be overwritten. -->

Let's **visually compare** two PC applications: **GNOME Disks, and GParted**.

![The windows of the two programs compared.]({{< assetsRoot >}}/Media/Partioning-Mar-2023/SideBySide.png)

Both are disk partitioning tools, and broadly serve the same tasks; there is just **some difference** in extra features or more support in favor of one program or the other. Despite this, the two tools present **obvious differences** in their **graphical interface**.

## You have to have both

I generally keep both of these two programs installed, and I **use them in a rather **alternate** way, because:

<table><thead><tr><th>GParted</th><th>GNOME Disks</th></tr></thead><tbody><tr><td><img src="{{ < assetsRoot >}}/Media/Partioning-Mar-2023/GParted-Advanced.png" alt="GParted's view of in-depth information about a disk."></td><td><img src="{{ < assetsRoot >}}/Media/Partioning-Mar-2023/GNOME-Advanced.png" alt="GNOME Disks' global pop-up menu, which has some special features."></td></tr><tr ><td><strong>GParted</strong> has <strong>fewer distinct functions</strong>, but everything has its place, and a <strong>sufficient</strong> level of <strong>depth</strong> strong> and features: low-level disk information, formatting in tons of formats, and a few other details.</td><td><strong>GNOME Disks</strong> has <strong>less depth</strong> > with individual operations, but offers some <strong>extra functions</strong> not strictly linked to the modification of partitions, which is always useful: energy and performance management of disks, an interface for the SMART protocol, and also a tool to test memory performance!</td></tr></tbody></table>

## It was a simple mission!

The day before yesterday, when I booted a **live USB** Linux on [my laptop](https://sitoctt.octt.eu.org/Posts/2022-07-09-Come-ho-Riparato-il- my-Portatile-con-25-Euro.html), I had in mind to complete **without damage** a _theoretically_ easy and painless mission:

1. **Free up space** on the PC disk, deleting most of the files, except for those that I wanted to keep for a moment (to manage perhaps in the future).
2. **Resize the partition** on the disk, as it will be quite empty at this point.
3. **Create a new** partition large enough to install the new operating system on.<sup id="fnref1"><a href="#fn1">1</a></sup>
4. **Move files** from the old partition to the new one, gradually shrinking the first and widening the second, **until** being able to **delete the old**.

## Too much mess.

...In practice, _something went slightly wrong_. It couldn't have been a quiet evening! 😾

This time, for the simple fact that when looking for a partition editor among the pre-installed apps of the live system in question, **wanting to get it done straight away**, the first program my eyes fell on was **GNOME Disks** .
Oh, I should have stayed away. And there are many reasons:

#### 1\. Physical disks are mixed with virtual partitions mounted from physical disks, in the list on the left of the window

Already at this point, if (as in my case) you have _strange type_ partitions, i.e. [LVM](https://wiki.archlinux.org/title/LVM), the situation becomes ugly, because **it is not It's clear where** you have to go** to make changes.<sup id="fnref2"><a href="#fn2">2</a></sup>

<table><thead><tr><th>GParted</th><th>GNOME Disks</th></tr></thead><tbody><tr><td><img src="{{ < assetsRoot >}}/Media/Partioning-Mar-2023/GParted-List.png" alt="The disk list selector in GParted."></td><td><img src="{{< assetsRoot >}}/Media/Partioning-Mar-2023/GNOME-List.png" alt="The disk and partition list view on GNOME Disks."></td></tr><tr><td>< strong>GParted</strong> only has a <strong>list of devices</strong> (real disks for sure, but I think also virtual devices) to select first, and then the large view with all the partitions for the chosen device. It is <strong>orderly</strong> and logical.</td><td><strong>On GNOME Disks</strong>, however, to do what you need to do, <strong>you go</strong> to disk view or <strong>where?</strong> In the first case there are <strong>some options</strong> and others <strong>are missing</strong>. Shall we try from the view dedicated to the virtual partition? Here too, the list of options is decidedly neutered, among other things both in the sense of quick icon buttons and in the sense of pop-up menu buttons... but now let's see what problems they have.</td></ tr></tbody></table>

#### 2\. As appropriate, the quick icons available for each partition appear and disappear

While on **GParted**, the list of **icon-buttons** at the top of the window **never changes** - rather the individual buttons darken or lighten, depending on whether they can be operated on the selection current or not - **on GNOME Disks the hotkeys** - indeed, positioned in a strange way too, stuck under the partition table area, which honestly I can't even comment on - they **appear or disappear** completely .
Below are the cases I have seen, but perhaps there are even more possible ones, who knows:

* On the far left, for some selections you see a **play/stop** button (mount/unmount partition), other times in the exact same point there is a **padlock** (lock/unlock encrypted partition), other times a **cross** (creates partition in empty space), and in some cases **nothing**.
* Immediately to the right, a **gear**, button that opens a pop-up menu with a more complete list of options for the partition - we note that this ends up **climbing to the far left**, if before it there is nothing, just to confuse more.
* Finally, on the extreme right, in some cases a button with a **dash on a red background** (destroy partition) may appear.

Ehh, this thing isn't so good, because it makes it **impossible to mentally associate** a specific _microzone_ of the window as dedicated to a specific operation. And this is potentially **dangerous**, if you take into account the big problem 5 (below).

#### 3\. The options pop-up menu on a partition uses only text labels, never a single icon

A seemingly small detail, but which is actually quite important.
A text string allows you to unequivocally understand what a certain key does, unlike what can happen when you only have icons, but **the best would be obtained** by combining the two things: **keys accompanied by icons**.

<table><thead><tr><th>GParted</th><th>GNOME Disks</th></tr></thead><tbody><tr><td><img src="{{< assetsRoot >}}/Media/Partioning-Mar-2023/GParted-Context-Menu.png" alt="The context menu of a partition in GParted."></td><td><img src="{{< assetsRoot >}}/Media/Partioning-Mar-2023/GNOME-Context-Menu.png" alt="The options menu of a partition on GNOME Disks."></td></tr><tr>< td><strong>GParted does this for its contextual menus (at least on the most important items), and this allows you to immediately memorize the <strong>action</strong> corresponding to each option, and recall it immediately <strong>at a glance</strong>.</td><td>Personally, <strong>using GNOME Disks</strong> I always find myself <strong>having to re-read</strong> a good part of the list to select something, although it is no longer than that of GParted, precisely because <strong>the icons are missing</strong>.</td></tr></tbody></table>

#### 4\. Hotkeys and pop-up menus are not alternatives to each other

<table><thead><tr><th>GParted</th><th>GNOME Disks</th></tr></thead><tbody><tr><td><img src="{{< assetsRoot >}}/Media/Partioning-Mar-2023/GParted-Buttons.png" alt="The quick icon bar on GParted."></td><td><img src="{{< assetsRoot >}}/Media/Partioning-Mar-2023/GNOME-Buttons-1.png" alt="Buttons create and options on a partition in GNOME Disks."> <img src="{{< assetsRoot >}}/Media/ Partioning-Mar-2023/GNOME-Buttons-2.png" alt="Unmount buttons and options on a partition in GNOME Disks."> <img src="{{< assetsRoot >}}/Media/Partioning-Mar-2023 /GNOME-Buttons-3.png" alt="Block and options buttons on a partition in GNOME Disks."> <img src="{{< assetsRoot >}}/Media/Partioning-Mar-2023/GNOME-Buttons- 4.png" alt="Options button on a partition in GNOME Disks."></td></tr><tr><td>On <strong>GParted</strong> you first have the <strong>task bar menu</strong> (of which various menus can also be recalled as contextual in some areas), which truly contains <strong>all the operations</strong> possible in the program; only <strong>the</strong> is there a bar with <strong>icons</strong> useful for quickly recalling the probably most common actions. In practice, as long as you have the menu bar, <strong>you can</strong> even <strong>forget</strong> about the existence of <strong>those little icons</strong> there.</td>< td>With <strong>GNOME Disks</strong> this is <strong>not possible</strong>. Actually, on <a href="https://duckduckgo.com/?q=gtk3+examples&ia=images&iax=images" rel="noopener nofollow" target="_blank">several GTK3 apps</a> it is like this: there are <strong>actions</strong> fixed to <strong>label-keys</strong> in a menu, and others fixed to <strong>icon-keys</strong> directly visible. Generally, however, those buttons do not <strong>disappear or partially appear</strong> when the state changes within the same application view! Maybe I have strange tastes, but this thing messes with my brain when using the software.</td></tr></tbody></table>

To understand, just compare the buttons in this table to the contextual menu options seen in the one above!

## What have I done?

All these factors together led to a huge **patatrac**!
So, what do I do? I need to **unmount** the **partition**, before I can **resize** it.

I go from **disk view**, and there is **only the button** for the **options** menu - plus what will come to mind _only after_ when I will have **already broken** by now to break up , is the button to **destroy** the partition.
In the list of options I read everything and **I don't even see** an entry to **unmount** the partition. _Meh_.

I go through the **screen** dedicated to that mounted **partition**, and I call up that menu again for I don't know what reason, and rightly so I still can't find anything.
Next to the options menu button **there was in theory the stop button**, to unmount the partition, but it is clear that I really **didn't** notice it**.

I go **back and forth** between the two screens about ten times, and nothing, I'm really **blind**.

At a certain point, my unconscious gets bored of all this **circling**, and finally allows me to notice another **button**... the dangerous **red** one. _Ouch ouch_.
I press it and honestly I don't even remember if I delete the confirmation dialogue once - which I was absolutely in no psychological condition to read - and then I press the button again for immediately afterwards confirm the dialogue, but one thing is clear:

If up until that moment I couldn't think straight, because **with every breath** a rough **"WTF?!"** rang in my head, it was a matter of a few seconds from the moment of the **fatal click** because a **bad feeling** began to appear in my pierced, deformed head, full of expired peanuts... 😰️

...Well, so what? What is it?
...
_Ohhhhah_, okay, **you win**. I admit it: **I hit too**. Yes. Happy? In the end I moved the hand to click, of course... But in my life **I have done** these operations **many times**! Even using GNOME Disks, sometimes among many! 😭️

In any case, no, I won't put all the blame on **poor Octt** from three days ago. Now I play my _trap card_, and expose the real **touch of misfortune** without which I would probably have saved myself:

#### 5\. Each action is performed when you request it, there is no queue

I must admit that sometimes **in GParted** I have come close to tragedy** - but really tragedy, not like this time which, all things considered, I'm still experiencing.
The difference, however, lies precisely in this little word: with **GParted** the disaster has always at most **_almost_** happened, but with **GNOME Disks** this time it has **consumed** and that's it.

On **GParted** the operations you order end up in a **queue**, which must be manually applied once you decide to continue.
And here too, we are down to the ** minutiae **, yet something like this weighs heavily on the final bill. We can see it like this: **in that case**, you have to **make a mistake** two (**2**) **times** to make a mess, while with the GNOME program one (1) mistake is enough.

![The operation queue view on GParted.]({{< assetsRoot >}}/Media/Partioning-Mar-2023/GParted-Queue.png)

## "Is there any damage?"

In any case, I noticed that, **after** giving the order to **delete the partition**, it **remained** mountable, and the file system was all **navigable**.
Probably, what Linux needed to use the partition remained in memory (RAM), and since all the data was never deleted with a simple quick deletion of a partition, it was all still readable.

To be honest, looking at the situation like this I **wasn't even** realizing** the reality, I still **didn't understand** whether my **data** had been **condemned** or not. ..
Unclear interface, _I said so_.

As the feeling of rush passed and gave way to **discomfort**, I searched for GParted**, found that it's included in the live system, and started it.
Instead of the partition I see "empty space"... oh **yes, it's done**. But how come he let me **delete the partition** without** forcing me to **unmount** it first? What barbarism! GParted doesn't allow this, for good reasons.

Yet, deep down, I still **haven't accepted** that it was cancelled.
I want to see if, after a reboot, it disappears permanently.

And so it is, **without** even **worrying** about copying a shred of file - because it was about late and I had to get ready to go to sleep - that I **restart**.
Oh yes, I see the GRUB black screen, and not the system booting! ...**It's all lost**, there's no point in going around it now.

"_After you did the damage did you think about restarting immediately without even saving the most important files?!?! But then you're a certified bruh-idiot, twice, not once!_"
_Ooooooooooooo_, how dare you? How dare YOU be **so right** if the blog is MINE??

The only thing we can do now is the **damage count**. I have not lost unique and very important data, what I **no longer have I should** in theory be able to **redownload or reconstruct**. Let's talk about:

* 40 GB of data exported from my old Google account; account that I planned to delete, but I hadn't finished transferring everything and so I think it's **all still in the cloud**.

* Various large and small **files** downloaded **from the Web**, possibly some hard to find, but **nothing vital**.

* **Source codes changed**; we're talking about porting attempts for obscure platforms that I tried and failed, or other **very forgettable experiments**.

* **Dumps of disks** that I still have at home (some already uploaded to [Archive.org](https://archive.org/details/@andrigamerita)), **or additional copies** of other data.

* Documents whose current **relevance** is **nil**.


If I **forgot something** important in this list, however, maybe maybe it **wasn't important**, and we can rest assured. Otherwise I would remember, right? _Well, knowing me..._

## Avoid...

The **moral** of this **bad story** can be condensed into:

1. Avoid GNOME Disks.
2. **Be careful** when dealing with partitions, even if you have done it 50 times in the past.
3. **Avoid**, absolutely, **GNOME Disks**!

And I close with a **advice**, or rather, a **development philosophy**, that all those who design **UI** (even I, in my things, don't hide it) forget too often: [The user is drunk](https://www.youtube.com/watch?v=r2CbbBLVaPk).

<iframe src="https://www.youtube-nocookie.com/embed/r2CbbBLVaPk" style="height: calc(100vh / 16 * 9);" class="YouTube"></iframe>

So, greetings. For the future I **hope** not to **lose data** in a stupid way (to you, and to me!). 👋

_**P.S:** The Linux distribution I installed this time is [Pop!\_OS](https://pop.system76.com/). I really wanted to try it, but on 2 occasions I tried to install it on the desktop PC and it always gave an error. Here on the laptop it worked, wow, so it's not a broken distro! (**Maybe** 👀)_

## {{% i18n notes-refs %}}

---

1. The system I had up to that point, Linux Mint, version 19.3, after 3 years:

<dl><dt><strong>It has become stale:</strong></dt><dd>Version 19.3 is discontinued, and the repositories no longer receive new software. So, I should have upgraded to the current version of Mint, but apparently <strong>I should have anyway</strong> done it by reinstalling <strong>from scratch</strong> (on <code class="prettyprint">apt dist-upgrade </code> there are no new updates)</dd><dt><strong>It's broken:</strong></dt><dd>Some things (like broken video drivers, and the desktop environment that only starts in fallback mode) are definitely my fault (<em>I screwed up</em> with the drivers <a href="https://en.wikipedia.org/wiki/Nvidia#:%7E:text=Nvidia" rel="noopener nofollow" target="_blank">ACCIDIA</a> in recent weeks), but others (Bluetooth no longer working!?) I would say no :/. In any case, <strong>when the system is so broken, it's quicker to reinstall everything</strong>...</dd></dl>

 [↩](#fnref1)

2. Maybe yes, I'm an idiot, but not to the point of voluntarily setting up the partitions with a structure that's alien to me. At the time, very simply, I installed Linux Mint with the default guided settings. Whenever I installed Linux I used manual partitioning, instead of choosing to erase the entire disk and let the installation program decide things, I instead always created normal partitions. So... **don't blame me**, [kthx](https://en.m.wiktionary.org/wiki/kthx#:%7E:text=\(Internet%20slang\)%20Abbreviation %20of%20okay%2C%20thanks.)? [↩](#fnref2)
